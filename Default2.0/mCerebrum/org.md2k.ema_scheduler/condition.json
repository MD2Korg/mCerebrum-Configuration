[
  {
    "id": "PHONE_BATTERY_10",
    "type": "PHONE_BATTERY",
    "title": "Phone battery (>=10)",
    "summary": "Phone battery percentage is greater than 10",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "application": {
              "id": "org.md2k.phonesensor"
            },
            "type": "BATTERY"
          },
          "process":{
            "data_type":"DATA",
            "data_index":0,
            "operation":"MIN"
          }
        }
      },
      "var2": {
        "type": "VALUE",
        "value":10
      },
      "operator": ">="
    }
 },
  {
    "id": "NOT_ACTIVE_1",
    "type": "NOT_ACTIVE",
    "title": "Not Active (1 minute)",
    "summary": "Not physically active in last 1 minute",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "SEARCH",
        "search_by":"TIME",
        "source": {
          "application": {
            "id": "org.md2k.streamprocessor"
          },
          "type": "STRESS_ACTIVITY"
        },
        "from": {
          "type": "CURRENT_TIME",
          "offset": -60000
        },
        "to": {
          "type": "CURRENT_TIME",
          "offset": 0
        },
        "process": {
          "type": "NUMERIC",
          "index": 0,
          "compare": "==",
          "with": 0,
          "measure": "percentage"
        }
      },
      "var2": {
        "type": "CONSTANT",
        "value": 0
      },
      "operator": "=="
    }
  },
  {
    "id": "NOT_ACTIVE_5",
    "type": "NOT_ACTIVE",
    "title": "Not Active (1 minute)",
    "summary": "Not physically active in last 1 minute",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "SEARCH",
        "search_by":"TIME",
        "source": {
          "application": {
            "id": "org.md2k.streamprocessor"
          },
          "type": "STRESS_ACTIVITY"
        },
        "from": {
          "type": "CURRENT_TIME",
          "offset": -300000
        },
        "to": {
          "type": "CURRENT_TIME",
          "offset": 0
        },
        "process": {
          "type": "NUMERIC",
          "index": 0,
          "compare": "==",
          "with": 0,
          "measure": "percentage"
        }
      },
      "var2": {
        "type": "CONSTANT",
        "value": 0
      },
      "operator": "=="
    }
  },
  {
    "id": "NOT_DRIVING_5",
    "type": "NOT_DRIVING",
    "title": "Not Driving (5 minute)",
    "summary": "Not driving in last 5 minutes",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "SEARCH",
        "search_by":"TIME",
        "source": {
          "application": {
            "id": "org.md2k.phonesensor"
          },
          "type": "ACTIVITY_TYPE"
        },
        "from": {
          "type": "CURRENT_TIME",
          "offset": -300000
        },
        "to": {
          "type": "CURRENT_TIME",
          "offset": 0
        },
        "process": {
          "type": "NUMERIC",
          "index": 0,
          "compare": "==",
          "with": 7,
          "measure": "percentage"
        }
      },
      "var2": {
        "type": "CONSTANT",
        "value": 25
      },
      "operator": "<"
    }
  },
  {
    "id": "DATA_QUALITY_5",
    "type": "DATA_QUALITY",
    "title": "Data Quality Good(5 minutes)",
    "summary": "Data quality good in last 5 minutes",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "SEARCH",
        "search_by":"TIME",
        "source": {
          "platform": {
            "type": "AUTOSENSE_CHEST"
          },
          "type": "DATA_VARIANCE",
          "id": "RESPIRATION"
        },
        "from": {
          "type": "CURRENT_TIME",
          "offset": -300000
        },
        "to": {
          "type": "CURRENT_TIME",
          "offset": 0
        },
        "process": {
          "type": "NUMERIC",
          "index": 0,
          "compare": "==",
          "with": 0,
          "measure": "percentage"
        }
      },
      "var2": {
        "type": "CONSTANT",
        "sample": 66
      },
      "operator": ">="
    }
  },
  {
    "id": "DATA_QUALITY_LAST_EMA",
    "type": "DATA_QUALITY",
    "title": "Data Quality from last EMA",
    "summary": "Data quality is good from last ema",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "SEARCH",
        "search_by":"TIME",
        "source": {
          "platform": {
            "type": "AUTOSENSE_CHEST"
          },
          "type": "DATA_VARIANCE",
          "id": "RESPIRATION"
        },
        "from": {
          "type": "last_sample",
          "base": {
            "type": "EMA"
          },
          "offset": 0
        },
        "to": {
          "type": "CURRENT_TIME",
          "offset": 0
        },
        "process": {
          "type": "NUMERIC",
          "index": 0,
          "compare": "==",
          "with": 0,
          "measure": "percentage"
        }
      },
      "var2": {
        "type": "CONSTANT",
        "sample": 66
      },
      "operator": ">="
    }
  },
  {
    "id": "DATA_QUALITY_DAY_START",
    "type": "DATA_QUALITY",
    "title": "Data quality from Day Start",
    "summary": "Data Quality is good from day start",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "SEARCH",
        "search_by":"TIME",
        "source": {
          "platform": {
            "type": "AUTOSENSE_CHEST"
          },
          "type": "DATA_VARIANCE",
          "id": "RESPIRATION"
        },
        "from": {
          "type": "last_sample",
          "base": {
            "type": "DAY_START"
          },
          "offset": 0
        },
        "to": {
          "type": "CURRENT_TIME",
          "offset": 0
        },
        "process": {
          "type": "NUMERIC",
          "index": 0,
          "compare": "==",
          "with": 0,
          "measure": "percentage"
        }
      },
      "var2": {
        "type": "CONSTANT",
        "sample": 66
      },
      "operator": ">="
    }
  },
  {
    "id": "RANDOM_EMA_60",
    "type": "RANDOM_EMA",
    "title": "Random EMA (60 minute)",
    "summary": "Random EMA triggered 60 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "RANDOM_EMA"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -3600000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "RANDOM_EMA_10",
    "type": "RANDOM_EMA",
    "title":"Random EMA (10 minute)",
    "summary": "Random EMA triggered 10 minute ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "RANDOM"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -600000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "SMOKING_EMA_10",
    "type": "SMOKING_EMA",
    "title": "Smoking EMA (10 minute)",
    "summary": "Smoking EMA triggered 10 minute ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "SMOKING_EMA"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -600000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "SMOKING_EMA_30",
    "type": "SMOKING_EMA",
    "title": "Smoking EMA (30 minute)",
    "summary": "Smoking EMA triggered 30 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "SMOKING_EMA"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -1800000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "STRESS_EMA_10",
    "type": "STRESS_EMA",
    "title":"Stress EMA (10 minute)",
    "summary": "Stress EMA triggered 10 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "STRESS_EMA"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -600000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "STRESS_EMA_5",
    "type": "STRESS_EMA",
    "title":"Stress EMA (5 minute)",
    "summary": "Stress EMA triggered 5 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "STRESS_EMA"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -300000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "STRESS_EMA_30",
    "type": "STRESS_EMA",
    "title":"Stress EMA (30 minute)",
    "summary": "Stress EMA triggered 30 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMA",
              "id": "STRESS_EMA"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -1800000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "EMI_10",
    "type": "EMI",
    "title": "EMI (10 minute)",
    "summary": "EMI triggered 10 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMI",
              "id": "EMI"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -600000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "EMI_60",
    "type": "EMI",
    "title": "EMI (60 minute)",
    "summary": "EMI triggered 60 minutes ago",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"SAMPLE",
          "sample": {
            "sample_no": 1,
            "datasource":{
              "type": "EMI",
              "id": "EMI"
            }
          },
          "process":{
            "data_type":"TIME",
            "operation":"MAX"
          }
        }
      },
      "var2": {
        "type": "DATETIME",
        "datetime": {
          "base":"NOW",
          "offset": -3600000
        }
      },
      "operator": ">="
    }
  },
  {
    "id": "BLOCK_1_SMOKING_EMA",
    "type": "BLOCK",
    "title": "Block 1",
    "summary": "No EMA triggered in block 1",
    "compare": {
      "data_type": "NUMERIC",
      "var1": {
        "type": "DATAKIT",
        "datakit":{
          "search_by":"TIME",
          "datasource":{
            "id": "SMOKING_EMA",
            "type": "EMA"
          },
          "from":{
              "type":"DATASOURCE",
            "datasource":{
              "source": {
                "type": "DAY_START"
              },
              "offset":0
            }
          },
          "to":{
            "type":"DATASOURCE",
            "datasource":{
              "source": {
                "type": "DAY_START"
              },
              "offset":14400000
            }
          },
          "process":{
            "data_type":"DATA",
            "operation":"COUNT"
          }
        }
      },
      "var2": {
        "type": "VALUE",
        "value":1
      },
      "operator": "<"
    }
  },
  {
    "id": "VALID_BLOCK_STRESS_EMA",
    "type": "VALID_BLOCK",
    "name": "No EMA/EMI triggered in this block",
    "values": [
      "1"
    ],
    "source": {
      "id": "STRESS_EMA",
      "type": "EMA"
    }
  },
  {
    "id": "VALID_BLOCK_RANDOM_EMA",
    "type": "VALID_BLOCK",
    "name": "No EMA/EMI triggered in this block",
    "values": [
      "1"
    ],
    "source": {
      "id": "RANDOM_EMA",
      "type": "EMA"
    }
  },
  {
    "id": "PRIVACY",
    "type": "PRIVACY",
    "name": "Privacy is active",
    "data_source": {
      "type": "PRIVACY"
    }
  },
  {
    "id": "EMA_ANSWER_5",
    "type": "EMA_ANSWER",
    "name": "EMA answered in 5 Minutes",
    "values": [
      "300000"
    ]
  },
  {
    "id": "SMOKING_EMA_LIMIT",
    "type": "EMA_LIMIT",
    "name": "SMOKING EMA limit=14",
    "values": [
      "42"
    ],
    "data_source": {
      "id": "SMOKING_EMA",
      "type": "EMA"
    }
  },
  {
    "id": "RANDOM_EMA_LIMIT",
    "type": "EMA_LIMIT",
    "name": "RANDOM EMA limit=14",
    "values": [
      "42"
    ],
    "data_source": {
      "id": "RANDOM_EMA",
      "type": "EMA"
    }
  },
  {
    "id": "END_OF_DAY_EMA_LIMIT",
    "type": "EMA_LIMIT",
    "name": "END_OF_DAY EMA limit=14",
    "values": [
      "14"
    ],
    "data_source": {
      "id": "END_OF_DAY_EMA",
      "type": "EMA"
    }
  },
  {
    "id": "BONUS_INCENTIVE_42",
    "type": "BONUS_INCENTIVE",
    "name": "Bonus Incentive of 0.25 for 42 EMAs",
    "values": [
      "42",
      "0.75"
    ],
    "data_source": {
      "type": "INCENTIVE"
    }
  }
]